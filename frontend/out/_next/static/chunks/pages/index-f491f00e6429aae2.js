(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1717)}])},1717:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Et}});var r,i,a=n(5893),o=n(7294),l=n(3935),u=n(3936),c=n.n(u);function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(u){l=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(t){t.SUCCESS="success",t.INFO="info",t.WARN="warn",t.DANGER="danger"}(r||(r={})),function(t){t.TOP="top",t.RIGHT="right",t.BOTTOM="bottom",t.LEFT="left"}(i||(i={}));var f={delay:0,direction:i.TOP,inline:!1,directTabbable:!0,noWrap:!1};function d(t){var e=t.delay,n=t.variant,r=t.direction,u=t.inline,s=t.children,f=t.content,d=t.directTabbable,m=t.noWrap,g=p(function(){var t=(0,o.useRef)(null),e=(0,o.useState)(!1),n=e[0],r=e[1],i=(0,o.useCallback)((function(){r(!(!t||!t.current)&&t.current.getBoundingClientRect())}),[t]),a=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,o.useEffect)((function(){return i(),window.addEventListener(t,i,e),function(){return window.removeEventListener(t,i,e)}}),[t,e])};return a("resize"),a("scroll",!0),[n,i,t]}(),3),b=g[0],h=g[1],y=g[2],v=(0,o.useRef)(),x=(0,o.useState)(!1),_=x[0],j=x[1],w=(0,o.useRef)(),O=(0,o.useState)(!1),S=O[0],k=O[1],P=(0,o.useState)(!1),I=P[0],N=P[1],A=(0,o.useState)(!1),C=A[0],E=A[1];(0,o.useEffect)((function(){I||C?(h(),w.current=setTimeout((function(){k(!0)}),e)):(clearInterval(w.current),k(!1))}),[I,C,h,e]);var T=(0,o.useMemo)((function(){var t=[c()["tooltip-anchor"]];return u&&t.push(c()["tooltip-anchor--inline"]),t.join(" ")}),[u]),z=(0,o.useMemo)((function(){var t=[c().tooltip,c()["tooltip--".concat(r)]];return n&&t.push(c()["tooltip--".concat(n)]),m&&t.push(c()["tooltip--nowrap"]),t.join(" ")}),[n,r]),D=(0,o.useMemo)((function(){if(!b)return{top:0,left:0};var t=b.top,e=b.left,n=b.bottom,a=b.right,o=b.height,l=b.width;switch(r){case i.TOP:return{top:t,left:e+l/2};case i.RIGHT:return{top:t+o/2,left:a};case i.BOTTOM:return{top:n,left:e+l/2};case i.LEFT:return{top:t+o/2,left:e}}}),[b,r]),M=D.top,F=D.left;return(0,o.useEffect)((function(){v.current=document.getElementById("tooltip-portal"),j(!0)}),[]),(0,a.jsxs)("div",{ref:y,className:T,onMouseEnter:function(){return N(!0)},onMouseLeave:function(){return N(!1)},onFocus:function(){return E(!0)},onBlur:function(){return E(!1)},onMouseUp:function(){return E(!1)},tabIndex:d?0:-1,children:[s,S&&_&&v.current&&(0,l.createPortal)((0,a.jsx)("div",{className:c()["tooltip-wrapper"],style:{top:M,left:F},children:(0,a.jsx)("div",{className:z,children:f})}),v.current)]})}d.defaultProps=f;var m,g=n(1314),b=n.n(g);function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t.DEFAULT="default",t.LARGE="large",t.ICON="icon"}(m||(m={}));var y={style:m.DEFAULT},v=function(t){var e=t.onClick,n=t.children,r=t.tooltip,i=t.style,l=(0,o.useMemo)((function(){var t=[b().button,b()["button--".concat(i)]].join(" ");return(0,a.jsx)("button",{onClick:e,className:t,type:"button",children:n})}),[i,e,n]);if(void 0===r)return l;var u=function(t){return void 0!==t.content}(r)?r:{content:r};return(0,a.jsx)(d,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){h(t,e,n[e])}))}return t}({},u,{children:l}))};v.defaultProps=y;var x=n(4190),_=n.n(x);function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){j(t,e,n[e])}))}return t}function O(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var S=function(t){var e=t.id,n=t.label,r=t.value,i=t.onChange,o=O(t,["id","label","value","onChange"]);return(0,a.jsxs)("div",{className:_()["number-input"],children:[(0,a.jsx)("label",{htmlFor:e,className:_()["number-input__label"],children:n}),(0,a.jsx)("div",{className:_()["number-input__input-container"],children:(0,a.jsx)("input",w({id:e,className:_()["number-input__input"],type:"number",value:r,onChange:function(e){var n=parseInt(e.target.value,10);if(isNaN(n)){if(void 0===t.min)return;e.target.value=t.min.toString()}else void 0!==t.min&&n<t.min?e.target.value=t.min.toString():void 0!==t.max&&n>t.max&&(e.target.value=t.max.toString());i(e)}},o))})]})},k=n(8523),P=n(1768),I=n.n(P);function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){N(t,e,n[e])}))}return t}var C=function(t){var e=t.maxHeight,n=t.maxWidth,r=t.hasImage,i=t.imageData,o=t.height,l=t.width,u=t.onUpload,c=(0,k.uI)({onDropAccepted:u,accept:{"image/png":[]},maxFiles:1}),s=c.getRootProps,p=c.getInputProps,f=c.isDragActive;return(0,a.jsxs)("div",A({className:I().wrapper,style:{"--painting-grid-height":"".concat(2*e,"rem"),"--painting-grid-width":"".concat(2*n,"rem")}},s(),{children:[(0,a.jsx)("input",A({},p())),(0,a.jsx)("img",{src:i,className:I().painting,style:{"--painting-height":"".concat(2*o,"rem"),"--painting-width":"".concat(2*l,"rem")}}),f?null:(0,a.jsx)("div",{className:I()["edit-overlay"]}),r||f?null:(0,a.jsxs)("div",{className:I()["drag-instructions"],children:[(0,a.jsx)("span",{style:{whiteSpace:"nowrap"},children:"Drag or click"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{style:{whiteSpace:"nowrap"},children:"to upload an image"})]})]}))},E=n(2800),T=n.n(E);function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){z(t,e,n[e])}))}return t}function M(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var F=function(t){var e=t.id,n=t.label,r=t.prefix,i=t.suffix,o=t.value,l=t.onChange,u=M(t,["id","label","prefix","suffix","value","onChange"]);return(0,a.jsxs)("div",{className:T()["text-input"],children:[(0,a.jsx)("label",{htmlFor:e,className:T()["text-input__label"],children:n}),(0,a.jsxs)("div",{className:T()["text-input__input-container"],children:[r?(0,a.jsx)("div",{className:T()["text-input__prefix"],children:r}):null,(0,a.jsx)("input",D({id:e,className:T()["text-input__input"],value:o,onChange:l},u)),i?(0,a.jsx)("div",{className:T()["text-input__suffix"],children:i}):null]})]})},R=n(24),L=n(4051),U=n.n(L),B=n(5733),W=n.n(B),K=n(1604);function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H(t,e,n,r,i,a,o){try{var l=t[a](o),u=l.value}catch(c){return void n(c)}l.done?e(u):Promise.resolve(u).then(r,i)}function Y(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){H(a,r,i,o,l,"next",t)}function l(t){H(a,r,i,o,l,"throw",t)}o(void 0)}))}}function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){$(t,e,n[e])}))}return t}function J(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function V(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(u){l=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return G(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q=K.z.object({id:K.z.string(),name:K.z.string().optional(),artist:K.z.string().optional(),height:K.z.number().min(1).max(8).default(1),width:K.z.number().min(1).max(8).default(1)}),Q=K.z.object({id:K.z.string(),name:K.z.string().optional(),paintings:K.z.array(q).default([])}),Z=K.z.object({pack:K.z.object({pack_format:K.z.number().min(1).default(9),description:K.z.string().optional()}).transform((function(t){return X({packFormat:t.pack_format},J(t,["pack_format"]))}))}),tt=function(t){var e=new FileReader;return e.readAsDataURL(t),new Promise((function(t){e.onloadend=function(){t(e.result||void 0)}}))};function et(){return(et=Y(U().mark((function t(e,n){var r,i,a,o,l,u,c,s,p,f,d,m,g,b,h,y,v,x,_,j,w,O,S,k,P,I,N,A,C,E,T;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W().loadAsync(e);case 2:r=t.sent,i=e.name.replace(/\.zip$/i,""),a=n.setPackFormat,o=n.setName,l=n.setDescription,u=n.setIcon,c=n.setId,s=n.setPaintings,p=new Map,f=!0,d=!1,m=void 0,t.prev=7,g=Object.entries(r.files)[Symbol.iterator]();case 9:if(f=(b=g.next()).done){t.next=66;break}if(h=V(b.value,2),h[0],!(y=h[1]).dir){t.next=13;break}return t.abrupt("continue",63);case 13:if("pack.mcmeta"!==y.name){t.next=20;break}return t.next=16,y.async("text");case 16:v=t.sent,x=Z.parse(JSON.parse(v)),a(x.pack.packFormat),l(x.pack.description||"");case 20:if("custompaintings.json"!==y.name){t.next=44;break}return t.next=23,y.async("text");case 23:for(_=t.sent,j=Q.parse(JSON.parse(_)),c(j.id),j.name&&(i=j.name),w=!0,O=!1,S=void 0,t.prev=28,k=j.paintings[Symbol.iterator]();!(w=(P=k.next()).done);w=!0)I=P.value,p.set(I.id,X({},p.get(I.id),I));t.next=36;break;case 32:t.prev=32,t.t0=t.catch(28),O=!0,S=t.t0;case 36:t.prev=36,t.prev=37,w||null==k.return||k.return();case 39:if(t.prev=39,!O){t.next=42;break}throw S;case 42:return t.finish(39);case 43:return t.finish(36);case 44:if("pack.png"!==y.name){t.next=54;break}return t.next=47,y.async("blob");case 47:return N=t.sent,t.next=50,tt(new Blob([N],{type:"image/png"}));case 50:A=t.sent,u(A||""),t.next=63;break;case 54:if(!y.name.endsWith(".png")){t.next=63;break}return t.next=57,y.async("blob");case 57:return C=t.sent,t.next=60,tt(new Blob([C],{type:"image/png"}));case 60:E=t.sent,T=y.name.substring(y.name.lastIndexOf("/")+1,y.name.lastIndexOf(".")),p.set(T,X({},p.get(T)||nt(T),{data:E}));case 63:f=!0,t.next=9;break;case 66:t.next=72;break;case 68:t.prev=68,t.t1=t.catch(7),d=!0,m=t.t1;case 72:t.prev=72,t.prev=73,f||null==g.return||g.return();case 75:if(t.prev=75,!d){t.next=78;break}throw m;case 78:return t.finish(75);case 79:return t.finish(72);case 80:o(i),s(p);case 82:case"end":return t.stop()}}),t,null,[[7,68,72,80],[28,32,36,44],[37,,39,43],[73,,75,79]])})))).apply(this,arguments)}var nt=function(t){return q.parse({id:t})};function rt(t){return(null===t||void 0===t?void 0:t.data)||function(t,e){var n=document.createElement("canvas");n.width=t,n.height=e;var r=n.getContext("2d");if(!r)throw new Error("Could not get canvas context");return r.fillStyle="rgb(42, 93, 183)",r.fillRect(0,0,t,e),n.toDataURL()}(16*((null===t||void 0===t?void 0:t.width)||1),16*((null===t||void 0===t?void 0:t.height)||1))}var it=(0,R.cn)(""),at=(0,R.cn)(9),ot=(0,R.cn)(""),lt=(0,R.cn)(""),ut=(0,R.cn)(""),ct=(0,R.cn)(new Map);function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ft(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(u){l=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return st(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(t){var e=t.id,n=t.isFirst,r=t.isLast,i=ft((0,R.KO)(ct),2),l=i[0],u=i[1],c=(0,o.useMemo)((function(){return l.get(e)||nt(e)}),[e,l]),s=(0,o.useMemo)((function(){return rt(c)}),[c]),p=(0,o.useCallback)((function(t){u((function(n){return new Map(n).set(e,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){pt(t,e,n[e])}))}return t}({},n.get(e)||nt(e),t))}))}),[e,u]),f=(0,o.useCallback)((function(){u((function(t){var n=new Map(t);return n.delete(e),n}))}),[e,u]),d=(0,o.useCallback)((function(){u((function(t){var n=new Map(t),r=n.get(e);if(!r)return n;var i=Array.from(n.keys()),a=i.indexOf(e);if(0===a)return n;var o=i[a-1],l=n.get(o);return l?(n.set(e,l),n.set(o,r),n):n}))}),[e,u]),g=(0,o.useCallback)((function(){u((function(t){var n=new Map(t),r=n.get(e);if(!r)return n;var i=Array.from(n.keys()),a=i.indexOf(e);if(a===i.length-1)return n;var o=i[a+1],l=n.get(o);return l?(n.set(e,l),n.set(o,r),n):n}))}),[e,u]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"1.5rem",alignItems:"center",justifyContent:"space-between"},children:[(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--size-1)"},children:[(0,a.jsx)(F,{id:"painting-id-".concat(c.id),label:"ID",value:c.id,onChange:function(t){p({id:t.target.value})}}),(0,a.jsx)(F,{id:"painting-name-".concat(c.id),label:"Name",value:c.name||"",onChange:function(t){p({name:t.target.value})}}),(0,a.jsx)(F,{id:"painting-artist-".concat(c.id),label:"Artist",value:c.artist||"",onChange:function(t){p({artist:t.target.value})}}),(0,a.jsx)(S,{id:"painting-width-".concat(c.id),label:"Width",min:1,max:8,value:c.width,onChange:function(t){p({width:parseInt(t.target.value,10)})}}),(0,a.jsx)(S,{id:"painting-height-".concat(c.id),label:"Height",min:1,max:8,value:c.height,onChange:function(t){p({height:parseInt(t.target.value,10)})}})]}),(0,a.jsx)(C,{maxHeight:8,maxWidth:8,hasImage:void 0!==c.data,imageData:s,height:c.height,width:c.width,onUpload:function(t){var e=new FileReader;e.onload=function(){var t=e.result;"string"===typeof t&&p({data:t})},e.readAsDataURL(t[0])}}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--size-2)",justifyContent:"space-between",alignItems:"stretch",height:"100%"},children:[(0,a.jsx)(v,{onClick:f,style:m.ICON,tooltip:{content:"Remove"},children:(0,a.jsx)("i",{className:"fas fa-trash"})}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--size-2)",alignItems:"stretch",flex:"0 0 auto"},children:[n?null:(0,a.jsx)(v,{onClick:d,style:m.ICON,tooltip:{content:"Move Up",noWrap:!0},children:(0,a.jsx)("i",{className:"fas fa-arrow-up"})}),r?null:(0,a.jsx)(v,{onClick:g,style:m.ICON,tooltip:{content:"Move Down",noWrap:!0},children:(0,a.jsx)("i",{className:"fas fa-arrow-down"})})]})]})]})})}var mt=n(1283),gt=n.n(mt);function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ht(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(u){l=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(){var t=ht((0,R.KO)(ct),2),e=t[0],n=t[1],r=(0,o.useMemo)((function(){return Array.from(e.keys())}),[e]),l=(0,o.useCallback)((function(){n((function(t){for(var e=t.size+1;t.has("painting-".concat(e));)e++;var n="painting-".concat(e);return new Map(t).set(n,nt(n))}))}),[n]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{style:{width:"100%",paddingInline:"var(--size-2)",display:"flex",flexDirection:"row",gap:"var(--size-4)",alignItems:"center"},children:[(0,a.jsxs)("div",{style:{fontSize:"var(--font-size-5)"},children:["Paintings (",r.length,")"]}),(0,a.jsx)(v,{onClick:l,style:m.ICON,tooltip:{content:"Add a painting",noWrap:!0,direction:i.BOTTOM},children:(0,a.jsx)("i",{className:"fas fa-plus"})})]}),(0,a.jsxs)("div",{className:[gt().list,0===r.length?gt()["list--empty"]:""].join(" "),children:[r.length>0?null:(0,a.jsx)("div",{children:"No paintings...yet!"}),r.map((function(t,e){return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(dt,{id:t,isFirst:0===e,isLast:e===r.length-1}),e===r.length-1?null:(0,a.jsx)("hr",{style:{height:"var(--border-size-1)",margin:"0"}})]},t)}))]})]})}var vt=n(3162),xt=n(9008),_t=n.n(xt),jt=n(1664),wt=n.n(jt),Ot=n(9109),St=n(2001),kt=n.n(St);function Pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function It(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){It(t,e,n[e])}))}return t}function At(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ct(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(u){l=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(){var t=(0,o.useState)(!1),e=t[0],n=t[1],r=Ct((0,R.KO)(it),2),i=r[0],l=r[1],u=Ct((0,R.KO)(at),2),c=u[0],s=u[1],p=Ct((0,R.KO)(ot),2),f=p[0],d=p[1],g=Ct((0,R.KO)(lt),2),b=g[0],h=g[1],y=Ct((0,R.KO)(ut),2),x=y[0],_=y[1],j=Ct((0,R.KO)(ct),2),w=j[0],O=j[1],S=(0,o.useCallback)((function(t){0!==t.length&&((""!==i||""!==f||""!==b||""!==x||w.size>0)&&!confirm("You have unsaved work. Are you sure you want to overwrite the current pack?")||(n(!0),function(t,e){return et.apply(this,arguments)}(t[0],{setPackFormat:s,setDescription:d,setId:h,setName:_,setPaintings:O,setIcon:l}).finally((function(){n(!1)}))))}),[s,d,h,_,l,O,c,f,b,x,w,i]),P=(0,o.useCallback)((function(t){if(0!==t.length){var e=t[0],n=new FileReader;n.readAsDataURL(e),n.onloadend=function(){l(n.result)}}}),[l]),I=(0,k.uI)({onDropAccepted:S,accept:{"application/zip":[".zip"]},maxFiles:1}),N=I.getRootProps,A=I.getInputProps,C=(0,k.uI)({onDropAccepted:P,accept:{"image/png":[]},maxFiles:1}),E=C.getRootProps,T=C.getInputProps,z=(0,o.useCallback)((function(){n(!0);var t=new(W());t.file("pack.mcmeta",JSON.stringify({pack:{pack_format:c,description:f}})),t.file("custompaintings.json",JSON.stringify({id:b,name:x,paintings:Array.from(w.values()).map((function(t){t.data;var e=t.name,n=t.artist,r=At(t,["data","name","artist"]);return e&&(r.name=e),n&&(r.artist=n),r}))})),t.file("pack.png",i.replace("data:image/png;base64,",""),{base64:!0});var e=!0,r=!1,a=void 0;try{for(var o,l=w.values()[Symbol.iterator]();!(e=(o=l.next()).done);e=!0){var u=o.value,s=rt(u);t.file("assets/".concat(b,"/textures/painting/").concat(u.id,".png"),s.replace("data:image/png;base64,",""),{base64:!0})}}catch(p){r=!0,a=p}finally{try{e||null==l.return||l.return()}finally{if(r)throw a}}t.generateAsync({type:"blob"}).then((function(t){(0,vt.saveAs)(t,"".concat(x,".zip")),n(!1)}))}),[c,f,b,x,w,i]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(_t(),{children:[(0,a.jsx)("title",{children:"Custom Paintings pack editor"}),(0,a.jsx)("meta",{name:"description",content:"Web app editor for painting packs"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),e?(0,a.jsx)("div",{className:kt()["loading-overlay"],children:(0,a.jsx)(Ot.no,{height:200,width:200})}):null,(0,a.jsxs)("main",{className:kt()["page-wrapper"],children:[(0,a.jsxs)("div",{className:kt()["page-column"],children:[(0,a.jsxs)("div",Nt({className:kt()["zip-input"]},N(),{children:[(0,a.jsx)("input",Nt({},A())),(0,a.jsx)("p",{children:"Edit an existing pack by dragging it here or clicking to select one for upload!"})]})),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[(0,a.jsx)(F,{id:"id",label:"ID",value:b,onChange:function(t){return h(t.target.value)}}),(0,a.jsx)(F,{id:"name",label:"Name",value:x,onChange:function(t){return _(t.target.value)}}),(0,a.jsx)(F,{id:"description",label:"Description",value:f,onChange:function(t){return d(t.target.value)}}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.25rem"},children:[(0,a.jsx)("div",{style:{fontSize:"var(--font-size-0)"},children:"Icon"}),(0,a.jsxs)("div",Nt({className:[kt()["icon-input"],i?"":kt()["icon-input--empty"]].join(" ")},E(),{children:[(0,a.jsx)("input",Nt({},T())),i?(0,a.jsx)("img",{src:i,style:{imageRendering:"pixelated",height:"8rem",width:"auto",objectFit:"contain"}}):null]}))]})]}),(0,a.jsx)(v,{onClick:z,style:m.LARGE,tooltip:(0,a.jsx)("span",{style:{whiteSpace:"nowrap"},children:"Download the currently configured resource pack"}),children:"Download"})]}),(0,a.jsx)("div",{className:kt()["page-column"],children:(0,a.jsx)(yt,{})})]}),(0,a.jsxs)("footer",{className:kt()["page-footer"],children:["Made with \u2764\ufe0f by Roundaround for use with the",(0,a.jsx)(wt(),{href:"https://modrinth.com/mod/roundaround-custom-paintings",children:"Custom Paintings"}),"Minecraft mod"]})]})}},1314:function(t){t.exports={button:"Button_button__PjVhE","button--large":"Button_button--large__iH7is","button--icon":"Button_button--icon__EAFNT"}},4190:function(t){t.exports={"number-input":"NumberInput_number-input__pL_Kr","number-input__label":"NumberInput_number-input__label__sofiB","number-input__input-container":"NumberInput_number-input__input-container__9zHFS","number-input__input":"NumberInput_number-input__input__O7ysx"}},1768:function(t){t.exports={wrapper:"PaintingGrid_wrapper__LWlxh","edit-overlay":"PaintingGrid_edit-overlay__1eww3","drag-instructions":"PaintingGrid_drag-instructions__VizRC",painting:"PaintingGrid_painting__b_Swi"}},1283:function(t){t.exports={list:"PaintingList_list__v9Xr4","list--empty":"PaintingList_list--empty__rj6xA",button:"PaintingList_button__kh6pS"}},2800:function(t){t.exports={"text-input":"TextInput_text-input__NYUZM","text-input__label":"TextInput_text-input__label__6IrfO","text-input__input-container":"TextInput_text-input__input-container__W6dUa","text-input__input":"TextInput_text-input__input__4Vsr4"}},3936:function(t){t.exports={"tooltip-anchor":"Tooltip_tooltip-anchor__rMwvx","tooltip-anchor--inline":"Tooltip_tooltip-anchor--inline__mNHvh","tooltip-wrapper":"Tooltip_tooltip-wrapper__kHgR4",tooltip:"Tooltip_tooltip__98Sw9","tooltip--top":"Tooltip_tooltip--top__FXChz","tooltip--right":"Tooltip_tooltip--right___jY6e","tooltip--bottom":"Tooltip_tooltip--bottom__7tOiR","tooltip--left":"Tooltip_tooltip--left__n60Xh","tooltip--nowrap":"Tooltip_tooltip--nowrap__PVuu9"}},2001:function(t){t.exports={"loading-overlay":"index_loading-overlay__D9n6b","page-wrapper":"index_page-wrapper__T_oYn","page-column":"index_page-column__bYQx8","page-footer":"index_page-footer__yeYAh","zip-input":"index_zip-input__aK3Qp","icon-input":"index_icon-input__4MzET","icon-input--empty":"index_icon-input--empty__qqB41"}}},function(t){t.O(0,[218,774,888,179],(function(){return e=8312,t(t.s=e);var e}));var e=t.O();_N_E=e}]);